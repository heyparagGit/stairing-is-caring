var buttonHandlers=function(){$("#signUpBtn").click(function(){window.location="sign-up.html"}),$("#pledgeBtn").click(function(){window.location="pledge-form.html"}),$("#joinBtn").click(function(){window.location="event-list.html"}),$("#createEventBtn").click(function(){window.location="request-event.html"}),$("#createTeamBtn, #addTeamToEventBtn").click(function(){window.location="create-team.html"}),$("#donationConfirm").click(function(){window.location="index.html"}),$("#edit-this-team").click(function(){window.location="create-team.html"})},formHandlers=function(){var t=function(){$.validate({form:"#create-team-form, #pledge-form, #sign-in-form, #event-request-form, #sign-up-form",modules:"html5, date, security"})};$("#sign-in-email, #sign-in-password").focusout(function(){t()}),$("#submitCommentBtn").click(function(){$("#pledge-form").submit(function(e){alert("Handler for #pledge-form .submit() called."),t(),$.getJSON("data/event.json",function(t){window.location=t.charity.donation_url}),e.preventDefault()})}),$("#submitTeamBtn").click(function(){$("#create-team-form").submit(function(e){alert("Handler for #create-team-form .submit() called."),t(),e.preventDefault()})}),$("#signInFormBtn").click(function(){$("#sign-in-form").submit(function(e){t(),alert("Handler for #sign-in-form .submit() called."),e.preventDefault()})}),$("#submitClimberBtn").click(function(){$("#sign-up-form").submit(function(e){t(),e.preventDefault()})}),$("#sumbitEventRequest").click(function(){$("#event-request-form").submit(function(e){alert("Handler for #event-request-form .submit() called."),t(),e.preventDefault()})})},topTeamsStairsFunc=function(){$.getJSON("data/top-team-list.json",function(t){console.log(t),t.topTeams.map(function(t){var e=numeral(t.totalStairs).format("(0,0)"),a='<li><img class="avatar-small pull-left" src="'+t.image+'" /><a href="team/'+t.id+'">'+t.name+'</a><h3 class="text-muted">'+e+"</h3></li>";$("#top-teams-stairs").append(a)})})},topTeamsDonationsFunc=function(){$.getJSON("../data/top-team-list.json",function(t){console.log(t),t.topTeams.map(function(t){var e=numeral(t.totalDonations).format("($0,0)"),a='<li><img class="avatar-small pull-left" src="'+t.image+'" /><a href="team/'+t.id+'">'+t.name+'</a><h3 class="text-muted">'+e+"</h3></li>";$("#top-teams-donations").append(a)})})},climbingCompaniesFunc=function(){$.getJSON("../data/top-company-list.json",function(t){console.log(t),t.topCompanies.map(function(t){var e=numeral(t.totalStairs).format("(0,0)"),a='<li><img class="avatar-small pull-left" src="'+t.image+'" /><span>'+t.name+'</span><h3 class="text-muted">'+e+"</h3></li>";$("#company-stairs").append(a)})})},avgTeamDonationsFunc=function(){$.getJSON("../data/top-company-list.json",function(t){console.log(t),t.topCompanies.map(function(t){var e=numeral(t.avgTeamDonations).format("($0,0)"),a="<li><p>"+t.name+'</p><div class="thermometer"><div class="thermo-border"></div><div class="thermo-fill" style="width:'+t.donationsAsPercentOfLeader+'%;"></div><div class="thermo-bg"></div></div><h3 class="thermo-val text-muted">'+e+"</h3></li>";$("#avg-team-donations").append(a)})})},recentCommentFunc=function(){$.getJSON("../data/recent-comments-data.json",function(t){console.log(t),t.recentComments.map(function(t){var e=moment(t.created_at).format("h:m A MMM d YYYY"),a=numeral(t.pledge_amount).format("($0,0)"),n=numeral(t.stairs_guess).format("(0,0)"),o='<div class="recent-activity"><img class="avatar-small pull-left" src="'+t.commenter.image+'" /> <p>'+t.commenter.name+"</p><h6>"+e+"</h6><p>"+t.comment+'</p><div class="row"><div class="col-xs-4 col-xs-offset-2"><label>Pledge</label><h3>'+a+'</h3></div><div class="col-xs-6"><label>Stairs Guess</label><h3>'+n+"</h3></div></div></div>";$("#activity-stream").append(o)})})},eventCardFunc=function(){$.getJSON("../data/events.json",function(t){console.log(t),t.events.map(function(t){var e=moment(t.event_date).format("MMM D, YYYY"),a=numeral(t.donation_data.sum_donations).format("($,0)"),n='<div class="col-sm-3 col-xs-6"><div class="event-card"><img src="'+t.image+'" /><div class="event-card-content"><a class="h3" href="/event/'+t.id+'">'+t.name+"</a><p>"+e+"<br />"+t.location.city+", "+t.location.state+'</p><h4 class="text-muted uppercase">Benefiting</h4><h3>'+t.charity.name+'</h3><div class="thermometer"><div class="thermo-border"></div><div class="thermo-fill" style="width:'+t.donation_data.percent+'%;"></div><div class="thermo-bg"></div></div><h3 class="thermo-val text-muted">'+a+"</h3></div></div></div>";$("#event-card-list").append(n)})})},homeTotalsFunc=function(){$.getJSON("../data/home-totals.json",function(t){console.log(t),t.homeTotals.map(function(t){var e="<li><h3>"+t.count+" "+t.object+"</h3></li><li><h3>";$("#home-totals").append(e)}),t.totalDollars.map(function(t){var e=numeral(t.count).format("($0,0)");$("#total-dollars").html("Total Raised: "+e),$("#donation-total").html(e)}),t.totalStairs.map(function(t){var e=numeral(t.count).format("(0,0)");$("#what-is-stairs-total").html(e),$("#what-is-stairs-total-m").html(e)}),t.totalCharities.map(function(t){var e=numeral(t.count).format("(0,0)");$("#what-is-charity-count").html(e)})})},eventTeamsRender=function(){$.getJSON("../data/teams.json",function(t){console.log(t),t.teams.map(function(t){var e=(numeral(t.stairs_goal).format("(0,0)"),numeral(t.donation_goal).format("($0,0)"),numeral(t.pledge_total).format("($0,0)"),'<tr><td><img src="'+t.image+'" /></td><td><a href="/team/'+t.id+'">'+t.name+'</a></td><td><a href="/climber/'+t.owner.id+'">'+t.owner.first_name+" "+t.owner.last_name+'</a><br /><a href="/climber/'+t.member.id+'">'+t.member.first_name+" "+t.member.last_name+"</a></td><td>"+t.stairs_goal+"</td><td>"+t.donation_goal+"</td><td>"+t.pledge_total+'</td><td><button id="donate-inline" class="btn btn-primary">Donate</button></td><td><button id="join-team-inline" class="btn btn-default">Join</button></td></tr>');$("#teams-table").append(e)})})},eventDetailRender=function(){$.getJSON("data/event.json",function(t){console.log(t);var e='<img src="'+t.image+'" />';$("#event-image").append(e),$("#event-name").html(t.name);var a='<a href="'+t.charity.sitelink+'" target="_blank">'+t.charity.name+"</a>";$("#charity-name").append(a);var n='<div class="thermo-fill" style="'+t.donation_data.percent+'%"></div>';$("#donation-thermometer").append(n);var o=numeral(t.donation_data.sum_donations).format("($0,0)");$("#donation-pledged").html(o);var m=numeral(t.donation_data.sum_donation_goal).format("($0,0)");$("#donation-goal").html(m);var i=numeral(t.location.stairs_onsite).format("(0,0)");$("#event-stairs").html(i);var l=moment(t.event_date).format("MMMM Do, YYYY");$("#event-date").html(l);var r=moment(t.event_start_time).format("h:mm A"),s=moment(t.event_end_time).format("h:mm A");$("#event-start-time").html(r),$("#event-end-time").html(s);var c=t.location.address+" "+t.location.city+" "+t.location.state,d=c.split(" ").join("+"),u='<a href="http://maps.google.com/?q='+d+'" target="_blank"><p>'+t.location.address+"<br />"+t.location.city+", "+t.location.state+"</p></a>";$("#event-full-address").html(u),$("#cal-start-datetime").html(t.event_start_time),$("#cal-end-datetime").html(t.event_end_time),$("#cal-event-name").html(t.name),$("#cal-timezone").html(t.timezone);var f=t.location.address+" "+t.location.city+", "+t.location.state;$("#cal-address").html(f)})},eventTableRender=function(){$.getJSON("data/events.json",function(t){console.log(t),t.events.map(function(t){var e=numeral(t.donation_data.sum_donations).format("($0,0)"),a=moment(t.event_date).format("MMM D, YYYY"),n=moment(t.event_start_time).format("h:mm A"),o=moment(t.event_end_time).format("h:mm A"),m='<tr><td><img src="'+t.image+'" /></td><td><a href="event/'+t.id+'">'+t.name+"</a></td><td><span>"+a+"</span><br /><span>"+n+"</span>&nbsp;&ndash;&nbsp;<span>"+o+"</span></td><td>"+t.charity.name+"</td><td>"+t.location.city+", "+t.location.state+'</td><td><div class="thermometer"><div class="thermo-border"></div><div class="thermo-fill" style="width:'+t.donation_data.percent+'%;"></div><div class="thermo-bg"></div></div><h3 class="thermo-val text-muted">'+e+"</h3></td><td><h3>"+t.team_count+"</h3></td></tr>";$("#event-table").append(m)})})},climberRender=function(){$.getJSON("data/climber.json",function(t){$("#climber-image").html('<img src="'+t.image+'" />'),$("#climber-name").html(t.first_name+" "+t.last_name),$("#climber-team").html(t.team.name),$("#climber-email").html(t.email);var e=numeral(t.career_stairs).format("(0,0)"),a=numeral(t.career_donations).format("($0,0)");$("#career-stairs").html(e),$("#career-donations").html(a),$("#climber-next-event").html('<a href="events/'+t.team.event.id+'">'+t.team.event.name+"</a>");var n=moment(t.team.event.event_date).format("MMMM Do, YYYY");$("#event-date").html(n),$("#climber-company").html(t.company.name),$("#climber-company-logo").html('<img class="company-logo" src="'+t.company.company_logo+'" />')})},eventHistoryRender=function(){$.getJSON("data/event-history.json",function(t){console.log(t),t.eventHistory.map(function(t){var e=moment(t.event.event_date).format("MMM D, YYYY"),a=numeral(t.stairs_climbed).format("(0,0)"),n=numeral(t.pledge_total).format("($0,0)"),o="<tr><td>"+t.event.name+"</td><td>"+e+"</td><td>"+a+"</td><td>"+n+"</td></tr>";$("#event-history").append(o)})})},teamRender=function(){$.getJSON("../data/team.json",function(t){console.log(t),$("#team-image").html('<img src="'+t.image+'" />'),$("#team-name").html(t.name),$("#team-motto").html(t.motto);var e='<a class="climber-name" href="%climber-page-uri">'+t.owner.first_name+" "+t.owner.last_name+'</a><img src="'+t.owner.company_logo+'" /><p>'+t.owner.company+"</p>";$("#team-owner").html(e);var a='<a class="climber-name" href="%climber-page-uri">'+t.member.first_name+" "+t.member.last_name+'</a><img src="'+t.member.company_logo+'" /><p>'+t.member.company+"</p>";$("#team-member").html(a),$("#donation-thermometer").html('<div class="thermo-fill" style="width:'+t.donation_percent+'%;"></div>');var n=numeral(t.pledge_total).format("($0,0)");$("#pledge-total").html(n);var o=numeral(t.donation_goal).format("($0,0)");$("#donation-goal").html(o),$("#stairs-thermometer").html('<div class="thermo-fill" style="width:'+t.stairs_percent+'%;"></div>');var m=numeral(t.stairs_climbed).format("(0,0)");$("#stairs-climbed").html(m);var i=numeral(t.stairs_goal).format("(0,0)");$("#stairs-goal").html(i)})},eventRender=function(){$.getJSON("data/event.json",function(t){var e=numeral(t.location.stairs_onsite).format("(0,0)");$("#event-stairs").html(e),$("#event-name").html('<a href="%event-page-uri%">'+t.name+"</a>");var a=moment(t.event_date).format("MMMM Do, YYYY");$("#event-date").html(a)})},commentsRender=function(){$.getJSON("data/recent-comments-data.json",function(t){console.log(t),t.recentComments.map(function(t){var e=moment(t.created_at).format("h:mm A MMMM D, YYYY"),a=numeral(t.pledge_amount).format("($0,0)"),n=numeral(t.stairs_guess).format("(0,0)"),o='<div class="activity-entry"><div class="col-xs-7"><div class="recent-activity"><img class="avatar-small pull-left" src="'+t.commenter.image+'" /><a class="h3" href="#">'+t.commenter.name+"</a><h6>"+e+"</h6><p>"+t.comment+'</p></div></div><div class="col-xs-2"><label>Pledge</label><h3 class="pledge-val">'+a+'</h3></div><div class="col-xs-3"><label>Stairs Guess</label><h3 class="stairs-guess-val">'+n+"</h3></div></div>";$("#activity-stream").append(o)})})},pledgeFormRender=function(){$.getJSON("data/team.json",function(t){console.log(t),$("#team-name").html(t.name)}),$.getJSON("data/event.json",function(t){console.log(t),$("#donation-link").html('<a href="'+t.charity.donation_url+'" target="_blank">'+t.charity.name+"</a>")})},newCompanyHandler=function(){$("#new-company-anchor").click(function(){$("#company-label").html("New Company Name"),$("#new-company-group, #new-company-anchor").toggle()}),$("#x-new-company").click(function(){$("#company-label").html("Company Name"),$("#new-company-group, #new-company-anchor").toggle()}),$("#company-input").autocomplete({source:["%Company R%","%Company S%","%Company T%","%Company S%","%Company E%","Expedia","Blueprint Consulting Services"]})},newTeammateHandler=function(){$("#new-climber-anchor, #x-new-climber").click(function(){$("#new-teammate-form-group, #existing-climber-form-group").toggle()}),$("#existing-climber-input").autocomplete({source:["%Climber Name 1%","%Climber Name 2%","%Climber Name 3%","%Climber Name 4%","%Climber Name 5%"]})},newLocationHandler=function(){$("#location-lookup").autocomplete({source:["%Location Name 1%","%Location Name 2%","%Location Name 3%","%Location Name 4%","%Location Name 5%"]})},newCharityHandler=function(){$("#charity-name").autocomplete({source:["%Charity Name 1%","%Charity Name 2%","%Charity Name 3%","%Charity Name 4%","%Charity Name 5%"]})};